\label{creator}

Для формирования бегущего магнитного поля был разработан электронный коммутатор,
состоящий из блока управления, блока индикации, ключей и источника питания.
Устройство обеспечивает коммутацию тока в катушках электромагнитов и позволяет
выбирать в широких пределах параметры эксперимента: количество активных
электромагнитов в группе, скважность цикла, частоту коммутации и величину тока в
катушках.

\paragraph{Блок управления}
\label{unit}

Принципиальная схема блока управления приведена на рис.~\ref{fig:scheme-1}.
Устройство можно разделить на две функциональные части.

Первая часть представляет собой четырехразрядный регистр D1.1, в который путем
последовательного ввода записывается код, соответствующий числу активных катушек А
в группе (1, 2, 3 или 4; соответственно коды выглядят как 0001, 0011, 0111 или 1111). Для
записи кода необходимо установить тактовый генератор G в режим однократного запуска,
произвести сброс всех регистров с помощью кнопки <Zero>, а затем подать вручную
необходимое число импульсов на тактовый вход регистра при нажатой кнопке <Set> (см. также рис.~\ref{fig:photo}).

Вторая часть устройства является 12-разрядным регистром сдвига (три 4-разрядных
регистра D1.2, D2.1 и D2.2, соединенных последовательно) с обратной связью,
обеспечивающей циркуляцию заданного кода в регистре. Обратная связь может быть
организована с выхода любого разряда регистра, начиная с номера 4. При этом количество
неактивных катушек Р будет равно разности между общим числом разрядов регистра (12)
и числом активных катушек А. Переключение размера паузы между группами импульсов
осуществляется переключателем Pause. Нумерация контактов от 1 до 9 соответствует
паузам при циркуляции кода, состоящего из трёх единиц.

После сброса всех регистров с помощью кнопки Zero и загрузки стартового регистра D1.1
устройство готово к работе. Для запуска необходимо переключить тактовый генератор G
из режима однократного запуска в режим автогенератора. При этом код, записанный в
стартовом регистре D1.1, последовательно сдвигается через логику D3.1~-- D3.2 в рабочий
кольцевой регистр и начинает циркулировать в нем с установленной скважностью.
Обратная связь осуществляется с выхода нужного разряда через второй вход логики D3.1~--
D3.2. После загрузки кольцевого регистра стартовый регистр в дальнейшей работе не
участвует, его состояние описывается как 0000. Диаграмма работы кольцевого регистра
для случая А=3, Р=4 приведена на рис.~\ref{fig:scheme-2}.

\newpage
\begin{figure}
\centerline{\includegraphics[width=260pt]{BU_fig1}} % и вокруг рисунка 431pt,1069pt
\caption{Принципиальная схема блока управления}                         %% Нумерация рисунка.Подпись к рисунку.
\label{fig:scheme-1}                     %% Метка к этому рисунку.

\end{figure}
\clearpage


\newpage
\begin{figure}
\centerline{\includegraphics[width=400pt]{BU_fig2}} % и вокруг рисунка 1327 x 1782  Pixels
\caption{Диаграмма работы кольцевого регистра для случая А=3, Р=4}       %% Нумерация рисунка.Подпись к рисунку.
\label{fig:scheme-2}                     %% Метка к этому рисунку.

\end{figure}
\clearpage



По горизонтали обозначены номера разрядов
кольцевого регистра от 1 до 12, а по вертикали (сверху вниз)~-- номера тактовых
импульсов.

\paragraph{Коммутатор}
\label{commutator}

Первый вариант коммутатора был построен по схеме, приведенной на рис.~\ref{fig:scheme-3}. Все
электромагнитные катушки соединены последовательно и подключены к источнику
питания напряжением +30~В, работающему в режиме стабилизации тока величиной 3~А.
Параллельно каждой катушке подключен диод для ограничения обратного выброса
напряжения и группа нормально замкнутых контактов реле. Высокий уровень напряжения
на входе ключа размыкает контакты реле и ток течет через обмотку электромагнитной
катушки. Ток во всех катушках всегда постоянен и не зависит от количества включенных
в данный момент катушек.

Данный вариант схемы коммутатора позволил провести предварительные исследования
движения магнитных объектов. Была показана работоспособность выбранного способа
управления и сформулированы требования к характеристикам формирователя бегущего
магнитного поля, которые могли бы обеспечить всесторонние экспериментальные
исследования изучаемых объектов.

На основе сделанных выводов был разработан второй вариант коммутатора, полная
принципиальная схема которого приведена на рис.~\ref{fig:scheme-4}.

В схеме устройства можно выделить следующие функциональные узлы: блок управления
(БУ), блока индикации (БИ), ключи К1\dots К12 и источники питания (ИП).
Принципиальная схема блока управления приведена на рис.~\ref{fig:scheme-1} и подробно описана в п.~\ref{unit}.

Отличие от первого варианта заключается в том, что все катушки подключены к
источнику питания не последовательно, а параллельно; при этом используется источник
+6~В в режиме стабилизации напряжения. Такое подключение позволяет применить
транзисторные ключи и устранить недостаток, присущий первому варианту коммутатора:
инерционность электромагнитного реле не позволяла провести исследования на частотах
выше 100~Гц и, возможно, вносила искажения уже при частотах более 50~Гц из-за наличия
существенного времени включения и отпускания контактов. Однако, параллельное
подключение двенадцати каналов к одному источнику требует мощного источника
питания с большим максимальным выходным током. Поэтому все катушки были разбиты
на четыре группы, питание которых обеспечивается отдельными источниками типа БНН
(+6~В, 10~А) со стабилизацией выходного напряжения и возможностью регулировки
выходного напряжения от +4~В до +6~В.


\newpage
\begin{figure}
\centerline{\includegraphics[width=286pt]{BU_fig3}} % и вокруг рисунка  953 x 2025  Pixels
\caption{Принципиальная схема первого варианта коммутатора}                 %% Нумерация рисунка.Подпись к рисунку.
\label{fig:scheme-3}                     %% Метка к этому рисунку.

\end{figure}
\clearpage


\newpage
\begin{figure}
\centerline{\includegraphics[width=430pt]{BU_fig4}} % и вокруг рисунка  1289 x 2041  Pixels
\caption{Принципиальная схема второго варианта коммутатора}                %% Нумерация рисунка.Подпись к рисунку.
\label{fig:scheme-4}                     %% Метка к этому рисунку.

\end{figure}
\clearpage


Ниже приведена таблица 2.1, в которой показано распределение источников питания
между четырьмя группами катушек. Из таблицы видно, что ИП №1 обеспечивает питание
катушек 1, 5 и 9, ИП №~2~-- катушек 2, 6 и 10, и т.д. Такое распределение со сдвигом на одну
катушку позволяет реализовать оптимально равномерную нагрузку на каждый из четырех
источников. В таблице приведен максимально нагруженный режим, возникающий в
случае, когда количество активных катушек $A=3$, а скважность $Q=2$ ($P=A$).


\begin{table}[htp]
\caption{$\ $}
\begin{tabular*}{\textwidth}{p{2.5cm}crcccc}
\hline
\\
 № катушки & №\ ИП &\multicolumn{5}{c}{№ тактового импульса}\\
\cline{3-7}\\
   &   &\null\qquad 1\ &\ 2\ &\ 3\ &\ 4\ &\ 5\  \\
\hline
\\
1  & 1 & + &   &   &   & +  \\
2  & 2 & + & + &   &   &   \\
3  & 3 & + & + & + &   &   \\
4  & 4 &   & + & + & + &   \\
5  & 1 &   &   & + & + & +  \\
6  & 2 &   &   &   & + & + \\
7  & 3 & + &   &   &   & +  \\
8  & 4 & + & + &   &   &   \\
9  & 1 & + & + & + &   &   \\
10 & 2 &   & + & + & + &   \\
11 & 3 &   &   & + & + & +  \\
12 & 4 &   &   &   & + & + \\
\hline
\end{tabular*}
\label{table1}
\end{table}


Для каждого из пяти приведенных в таблице сочетаний к каждому источнику подключены
только две катушки. В случае одного общего источника на него было бы нагружено шесть
катушек: это видно, если посмотреть на любой вертикальный столбец.

Ключи К1\dots К12 обозначены на рис.~\ref{fig:scheme-4} рамками с номерами 1\dots 12.
Подробная схема ключа приведена в пунктирной рамке №1.
Ключ реализован по схеме с общим эмиттером на составном транзисторе.
Особенность схемы заключается в том, что коллекторы первых
двух транзисторов соединены вместе, но подключены не к коллектору третьего
транзистора, а к плюсу источника питания +6~В через резистор 47~Ом. При таком
подключении отпирающий ток базы третьего транзистора всегда большой (около 150~мА),
не зависит от напряжения на его коллекторе и легко обеспечивается составным
транзистором, состоящим всего из двух транзисторов. Такая схема составного транзистора
позволила уменьшить тепловые потери в ключе за счет уменьшения напряжения
насыщения до 0,3~В и благодаря этому удалось обойтись без применения радиаторов.

Параллельно каждой катушке подключен диод типа КД212 для ограничения обратного
выброса напряжения при запирании ключа.

Последовательно с каждой катушкой включен дополнительный резистор, позволяющий
расширить диапазон значений токов, при которых планируется проводить эксперименты.
При минимально возможном значении напряжения источника питания БНН $U_{\min} = 4$~В
рабочий ток в катушке с учетом падения напряжения на открытом ключе составляет
$I_{\min} = 2,7$~А. При максимально возможном значении напряжения источника питания БНН
$U_{\max} = 6$~В и перемычке, установленной параллельно резистору 0,39~Ом, рабочий ток в
катушке с учетом падения напряжения на открытом ключе составляет $I_{\max} = 5,7$~А.

\paragraph{Индикация работы}
\label{indication}

При отпирании ключа через катушку протекает ток порядка З~А, что вызывает падение
напряжения около 3~В при сопротивлении обмотки катушки $R_{kat}= 1$~Ом. Это напряжение
используется для индикации состояния ключа: параллельно катушке подключен
светодиод через резистор 130~Ом.

Формирователь имеет также блок индикации состояния стартового регистра D1.1.
Напряжение с выхода каждого разряда регистра поступает на ключ, в коллекторную цепь
которого включен светодиод. Эти индикаторы используются при записи кода в регистр.
Этих двух видов индикации достаточно для контроля правильной работы формирователя. 